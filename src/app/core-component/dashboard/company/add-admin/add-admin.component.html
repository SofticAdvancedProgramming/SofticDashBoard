<div class="row py-3 my-3">
  <div class="form-container" [formGroup]="addAdminForm">
    <div class="row">
      <p class="upload-text">{{ 'addAdminPage.title' | translate }}</p>
    </div>
    <form>
      <div class="row">
        <!-- First Name Field -->
        <div class="col-lg-6 col-md-6 col-sm-12">
          <div class="form-group" [ngClass]="{'has-error': isFieldInvalid('firstName')}">
            <label for="firstName">{{ 'addAdminPage.fields.firstName.label' | translate }}</label>
            <input required type="text" id="firstName" formControlName="firstName" class="form-control"
              [placeholder]="('addAdminPage.fields.firstName.placeholder' | translate)">
            <div *ngIf="isFieldInvalid('firstName')" class="invalid-feedback">
              {{ 'addAdminPage.fields.firstName.required' | translate }}
            </div>
          </div>
        </div>

        <!-- Last Name Field -->
        <div class="col-lg-6 col-md-6 col-sm-12">
          <div class="form-group" [ngClass]="{'has-error': isFieldInvalid('lastName')}">
            <label for="lastName">{{ 'addAdminPage.fields.lastName.label' | translate }}</label>
            <input required type="text" id="lastName" formControlName="lastName" class="form-control"
              [placeholder]="('addAdminPage.fields.lastName.placeholder' | translate)">
            <div *ngIf="isFieldInvalid('lastName')" class="invalid-feedback">
              {{ 'addAdminPage.fields.lastName.required' | translate }}
            </div>
          </div>
        </div>

        <!-- Full Name Field -->
        <div class="col-lg-6 col-md-6 col-sm-12">
          <div class="form-group" [ngClass]="{'has-error': isFieldInvalid('fullName')}">
            <label for="fullName">{{ 'addAdminPage.fields.fullName.label' | translate }}</label>
            <input required type="text" id="fullName" formControlName="fullName" class="form-control"
              [placeholder]="('addAdminPage.fields.fullName.placeholder' | translate)">
            <div *ngIf="isFieldInvalid('fullName')" class="invalid-feedback">
              {{ 'addAdminPage.fields.fullName.required' | translate }}
            </div>
          </div>
        </div>

        <!-- Mobile Number Field -->
        <div class="col-lg-6 col-md-6 col-sm-12">
          <div class="form-group" [ngClass]="{'has-error': isFieldInvalid('phoneNumber')}">
            <label for="phoneNumber">{{ 'addAdminPage.fields.phoneNumber.label' | translate }}</label>
            <ngx-intl-tel-input
            [cssClass]="'custom w-100'"
            [preferredCountries]="preferredCountries"
            [enableAutoCountrySelect]="true"
            [enablePlaceholder]="true"
            [searchCountryFlag]="true"
            [searchCountryField]="searchCountryFields"
            [selectFirstCountry]="false"
            [selectedCountryISO]="CountryISO.SaudiArabia"
            [maxLength]="15"
            [phoneValidation]="true"
            formControlName="phoneNumber">
          </ngx-intl-tel-input>
          <div *ngIf="isFieldInvalid('phoneNumber')" class="text-danger">
            <small *ngIf="addAdminForm.get('phoneNumber')?.errors?.['required']">
              {{ 'addAdminPage.fields.phoneNumber.required' | translate }}
            </small>
            <small *ngIf="addAdminForm.get('phoneNumber')?.errors?.['validatePhoneNumber']">
              {{ 'addAdminPage.fields.phoneNumber.invalid' | translate }}
            </small>
          </div>
          </div>
        </div>


        <!-- Email Field -->
        <div class="col-lg-12 col-md-6 col-sm-12">
          <div class="form-group" [ngClass]="{'has-error': isFieldInvalid('email')}">
            <label for="email">{{ 'addAdminPage.fields.email.label' | translate }}</label>
            <input required type="email" id="email" formControlName="email" class="form-control"
              [placeholder]="('addAdminPage.fields.email.placeholder' | translate)">
            <div *ngIf="isFieldInvalid('email')" class="invalid-feedback">
              {{ 'addAdminPage.fields.email.required' | translate }}
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <!-- Password Field -->
        <div class="col-lg-6 col-md-6 col-sm-12">
          <div class="form-group" [ngClass]="{'has-error': isFieldInvalid('password')}">
            <label for="password">{{ 'addAdminPage.fields.password.label' | translate }}</label>
            <div class="password-container">
              <input [type]="passwordFieldType" id="password" formControlName="password" class="form-control"
                [placeholder]="('addAdminPage.fields.password.placeholder' | translate)" autocomplete="new-password">
              <i (click)="togglePasswordVisibility()" class="authIcon fa"
                [ngClass]="passwordFieldType === 'password' ? 'fa-eye' : 'fa-eye-slash'"></i>
            </div>
            <div *ngIf="isFieldInvalid('password')" class="invalid-feedback">
              {{ 'addAdminPage.fields.password.required' | translate }}
            </div>
            <div *ngIf="addAdminForm.get('password')?.errors?.['complexPassword']" class="invalid-feedback">
              {{ 'addAdminPage.fields.password.complexity' | translate }}
            </div>
          </div>
        </div>

        <!-- Confirm Password Field -->
        <div class="col-lg-6 col-md-6 col-sm-12">
          <div class="form-group" [ngClass]="{'has-error': isFieldInvalid('confirmPassword')}">
            <label for="confirmPassword">{{ 'addAdminPage.fields.confirmPassword.label' | translate }}</label>
            <div class="password-container">
              <input [type]="confirmPasswordFieldType" id="confirmPassword" formControlName="confirmPassword" class="form-control"
                [placeholder]="('addAdminPage.fields.confirmPassword.placeholder' | translate)" autocomplete="new-password">
              <i (click)="toggleConfirmPasswordVisibility()" class="authIcon fa"
                [ngClass]="confirmPasswordFieldType === 'password' ? 'fa-eye' : 'fa-eye-slash'"></i>
            </div>
            <div *ngIf="isFieldInvalid('confirmPassword')" class="invalid-feedback">
              {{ 'addAdminPage.fields.confirmPassword.required' | translate }}
            </div>
            <div *ngIf="addAdminForm.errors?.['passwordMismatch']" class="invalid-feedback">
              {{ 'addAdminPage.fields.confirmPassword.mismatch' | translate }}
            </div>
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="row form-actions">
        <div class="col-lg-6">
          <button type="button" routerLink="../addCompany" class="btn btn-cancel">{{ 'addAdminPage.actions.cancel' | translate }}</button>
        </div>
        <div class="col-lg-6">
          <button type="button" class="btn btn-next" (click)="onSubmit()">{{ 'addAdminPage.actions.next' | translate }}</button>
        </div>
      </div>
    </form>
  </div>
</div>
