<div class="filter-popup">
  <div class="filter-popup-content">
    <div class="filterHeader">
      <p>
        ReWork
      </p>
    </div>
    <form [formGroup]="form" (ngSubmit)="Submit()">
      <div class="form-group">
        <label for="comment">Reason for Rework</label>
        <textarea
          id="comment"
          name="comment"
          class="form-control"
          formControlName="comment"
          rows="6"
          placeholder="Please write your message no more than 300 words"
        ></textarea>
      </div>
      <div class="form-group d-flex flex-row toggle-group">
        <label class="switch col-4">
          <input type="checkbox" formControlName="isHasMainCategory" />
          <span class="slider"></span>
        </label>
        <label for="direct-manager" class="toggle-label"
          >"Do we need to assign additional staff to this task?"</label
        >
      </div>

      <div class="form-group" *ngIf="form.get('isHasMainCategory')?.value">
        <label for="Name">Assign to</label>
        <app-drop-down
          [placeholder]="'Select Employee'"
          [placeholderSearch]="'Search by Name'"
          [items]="employees"
          [currentPage]="employeePage"
          [itemsLength]="employees.length"
          (getNextPageApi)="loadEmployees()"
          (search)="loadEmployees()"
          (onChange)="onEmployeeSelect($event)"
        ></app-drop-down>
      </div>

      <div class="d-flex justify-content-center gap-2 warningContainer">
        <img src="../../../../../../assets/images/warning-2.png" alt="warning" class="warningImg">
        <p>Note: Task will move to 'In Progress.</p>
      </div>

      <div class="d-flex justify-content-center gap-2">
        <button class="apply-btn" type="submit">Submit</button>
        <button class="cancel-btn" type="button" (click)="closePopup()">
          Close
        </button>
      </div>
    </form>
  </div>
</div>
